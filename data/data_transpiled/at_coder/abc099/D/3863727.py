def _import ( ) : return _import ( )
from os import getenv
from os import getenv
from os import getenv
from os import getenv
from os import getenv
class Main ( object ) :
    def __init__ ( self , sc ) :
        self.sc = sc
        self.N = sc.__next__ ( )
        self.C = sc.__next__ ( )
        self.iwakan = [ ]
        for i in range ( C ) :
            for j in range ( C ) :
                self.iwakan.append ( sc.__next__ ( ) )
        self.pl = pl
    def __init__ ( self , o ) :
        print ( o )
    def p ( o ) :
        print ( o )
    def pl ( o ) :
        print ( o )
    def sum_iwa ( ) :
        sum_iwa ( )
    def sum_iwa ( ) :
        tmp_iwa = 0
        for i in range ( C ) :
            for j in range ( N ) :
                if ( i + j ) % 3 == 0 :
                    mod_0_color [ sc.__next__ ( ) - 1 ] += 1
                elif ( i + j ) % 3 == 1 :
                    mod_1_color [ sc.__next__ ( ) - 1 ] += 1
                elif ( i + j ) % 3 == 2 :
                    mod_2_color [ sc.__next__ ( ) - 1 ] += 1
        for l in range ( C ) :
            if k != l :
                tmp_iwa += mod2_color [ l ] * iwakan [ l ] [ i ]
        for l in range ( C ) :
            if l != l :
                tmp_iwa += mod0_color [ l ] * iwakan [ l ] [ i ]
            for k in range ( C ) :
                if k != l :
                    tmp_iwa += mod1_color [ l ] * iwakan [ l ] [ j ]
    pl ( sum_iwa )
