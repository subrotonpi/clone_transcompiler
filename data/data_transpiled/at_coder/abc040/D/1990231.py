def main ( ) :
    import sys
    import random
    class Main ( object ) :
        def __init__ ( self ) :
            self.nodes = [ ]
        def find_root ( self ) :
            self.nodes = [ ]
            for i in range ( self.N ) :
                self.nodes.append ( Node ( self.nodes [ i ] ) )
        def find_root ( self ) :
            self.nodes = [ ]
            while self.nodes [ self.parent ] != self.nodes [ self.parent ] :
                self.nodes.append ( Node ( self.nodes [ self.parent ] ) )
    def find_root ( self ) :
        self.edges = [ ]
        for i in range ( self.M ) :
            a , b , year = self.nodes [ int ( self.nodes [ i ] ) - 1 ]
            self.edges.append ( Edge ( year , a , b ) )
        self.Q = self.nodes [ int ( self.nodes [ i ] ) - 1 ]
        queries = [ ]
        for i in range ( self.Q ) :
            v , w = self.nodes [ int ( self.nodes [ i ] ) - 1 ]
            queries.append ( Query ( i , v , w ) )
        self.edges = edges
        self.edges = [ ( e1 , e2 ) for e1 , e2 in self.edges ]
        self.queries = queries
        self.edges = [ ( q1 , q2 ) for q1 , q2 in self.edges ]
        self.edges = [ ( q1 , q2 ) for q1 , q2 in self.edges ]
        self.edges = [ ( q1 , q2 ) for q1 , q2 in self.edges ]
        self.edges = [ ( q1 , q2 ) for q1 , q2 in self.edges ]
        self.edges = [ ( q1 , q2 ) for q1 , q2 in self.edges ]
        self.edges = [ ( q1 , q2 ) for q1 , q2 in self.edges ]
        self.edges = [ ( q1 , q2 ) for q1 , q2 in self.edges ]
    class Main ( object ) :
        def __init__ ( self ) :
            self.nodes = [ ]
            self.nodes = [ ]
            self.edges = [ ( q1 , q2 ) for q1 , q2 in self.edges ]
    