def import import struct
import struct
import sys
class Main ( struct.Struct ) :
    mod = 1000000000 + 7
    def __init__ ( self ) :
        struct.Struct.__init__ ( self )
        self.n = struct.Struct.Struct.__init__ ( self )
        self.a = struct.Struct ( self.n )
        self.a = struct.Struct ( self.n )
        self.ans = help ( self.a )
        print ( self.ans )
    def help ( self , a ) :
        if self.a [ 0 ] != 0 : return 0
        maxdist = 0
        for w in self.a : maxdist = max ( maxdist , w )
        rec = struct.Struct ( self.maxdist + 1 )
        for w in self.a : rec [ w ] += 1
        if self.rec [ 0 ] != 1 : return 0
        for i in range ( 1 , maxdist + 1 ) :
            if self.rec [ i ] < 1 : return 0
        dp = [ 1 ]
        for i in range ( 1 , maxdist + 1 ) :
            base = power ( 2 , self.rec [ i - 1 ] ) - 1
            dp [ i ] = power ( base , self.rec [ i ] ) * dp [ i - 1 ] % mod
            same_layer = ( struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct.Struct