def _ _ main _ _ ( * o ) : return sys.stdout.write ( "\n" )
class Main ( object ) :
    def __init__ ( self ) :
        self.stdin = sys.stdin
        self.MOD = 1_000_000_007
        inf = sys.maxsize / 2
        def solve ( self ) :
            h = self.ni ( )
            w = self.ni ( )
            map = self.nm ( h , w )
            dinic = Dinic ( h , self.flow )
            s = self.h + self.flow
            t = self.h + self.flow
            for i in range ( h ) :
                for c in range ( w ) :
                    if c == 'S' :
                        self.dinic.add_edge ( s , i , inf )
                        self.dinic.add_edge ( s , j + self.flow )
        def max_flow ( self , src , cap ) :
            self.ptrbuf = [ ]
            s = self.h + self.flow
            t = self.h + self.flow
            for i in range ( h ) :
                for j in range ( w ) :
                    if c == 'S' :
                        self.dinic.add_edge ( s , i , inf )
                        self.dinic.add_edge ( s , j + self.flow )
        def skip ( self ) :
            while ( self.ptrbuf [ i ] == 'T' ) :
                self.dinic.add_edge ( s , i , inf )
        def skip ( self ) :
            while ( self.ptrbuf [ i ] == 'T' ) :
                self.dinic.add_edge ( s , i , inf )
        def skip ( self ) :
            while ( self.ptrbuf [ i ] == 'T' ) :
                self.dinic.add_edge ( s , i , inf )
        def skip ( self ) :
            while ( self.ptrbuf [ i ] == 'o' ) :
                self.ptrbuf = [ ]
    def skip ( self ) :
        while ( self.ptrbuf [ i ] == ' ' ) :
            self.ptrbuf = [ ]
    def skip ( self ) :
        return skip ( self )