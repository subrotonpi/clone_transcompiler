def _import ( ) : return sys.stdin.read ( )
def main ( ) :
    def solve ( ) :
        while has_next_byte ( ) and not is_printable_char ( buffer [ ptr ] ) :
            ptr += 1
    def __next__ ( ) :
        return int ( next ( ) )
    def __next__ ( ) :
        return next ( )
    def __next__ ( ) :
        if not __next__ ( ) :
            raise StopIteration
        s = [ ]
        while is_printable_char ( s [ ptr ] ) :
            s.append ( s [ ptr ] )
        return s
    def __next__ ( ) :
        if not __next__ ( ) :
            raise StopIteration
        while True :
            if '0' <= b <= '9' :
                n *= 10
                n += b - '0'
            elif b == - 1 or not is_printable_char ( s [ ptr ] ) :
                return - n if n else n
            else :
                raise StopIteration
        b = __next__ ( )
        a = next ( )
        b = next ( )
        c = next ( )
        cntA = cntB = cntC = 0
        num = 'a'
        while True :
            if num == 'a' :
                if cntA < len ( a ) :
                    num = a [ cntA ]
                    cntA += 1
                else :
                    print ( 'A' )
                    return
            elif num == 'b' :
                if cntB < len ( b ) :
                    num = b [ cntB ]
                    cntB += 1
                else :
                    print ( 'B' )
                    return
            elif num == 'c' :
                if cntC < len ( c ) :
                    num = c [ cntC ]
                    cntC += 1
                else :
                    print ( 'C' )
                    return
    def __next__ ( ) :
        if ptr < buflen :
            return True
        else :
            ptr += 1
            return False
    def __next__ ( ) :
        return __next__ ( )
    return __next__
