def _import ( ) : return _import ( )
class Main ( object ) :
    def __init__ ( self , exp ) :
        sc = _import ( )
        a = sc.next ( )
        b = sc.next ( )
        m = sc.next ( )
        g = gcd ( a , b )
        print ( self._matrix_mod_m ( 1 , g , m ) )
        for i in range ( n ) :
            for j in range ( m ) :
                c [ i ] = [ e [ i ] [ j ] ]
        return self._matrix_mod_m ( m )
    def _identity ( self , exp ) :
        ret = self._identity ( n )
        x = self._matrix_mod_m ( exp )
        while exp & 1 :
            ret = ret.multiply ( x )
        x = [ x [ i ] for i in range ( n ) ]
        x = [ x [ i ] for i in range ( n ) ]
        a = _inverse ( x [ rank ] [ j ] , MOD )
        for k in range ( m ) :
            x [ rank ] [ k ] = x [ rank ] [ k ] * a % MOD
        for i in range ( n + 1 ) :
            b = ( MOD - x [ i ] [ j ] ) % MOD
            for j in range ( m ) :
                x [ i ] [ j ] = x [ i ] [ j ]
        return self._matrix_mod_m ( a , b )
    def _inverse ( self , a ) :
        b , u = mod , 1
        while b > 0 :
            temp = a // b
            a -= t * b
        res = 1
        a = b
        b = temp
        u -= t * v
        temp = u
        v = temp
    def __repr__ ( self ) :
        return "".join ( [ str ( x ) for x in self._matrix_mod_m ( n , m ) ] )
class Main ( object ) :
    def __init__ ( self , e ) :
        self.e = e
        self.n = e.n
        self.m = e.m
    def _identity ( self ) :
        return self._identity ( )
