def _ _ main _ _ ( ) : return 0
class Main ( object ) :
    def __init__ ( self ) :
        sc = FastScanner ( sys.stdin )
        N = sc.__next__ ( )
        K = sc.__next__ ( )
        R = [ Req ( sc.__next__ ( ) , sc.__next__ ( ) , sc.__next__ ( ) ) for x in range ( N ) ]
        def __init__ ( self ) :
            self.x1 = 0
            self.y1 = 0
            self.x2 = 1
            self.y2 = 1
            self.c = sc.__next__ ( )
        def __init__ ( self ) :
            self.x1 = 0
            self.y2 = 1
            self.y2 = 1
            self.y2 = 1
            self.y2 = 2
            self.y2 = 2
            self.y2 = 2
            self.y2 = 2
            self.y2 = y2
        def __init__ ( self ) :
            self.x1 = 0
            self.y2 = 1
            self.y2 = 1
            self.y2 = 2
            self.y2 = y2
            self.c = c
        def solve ( self ) :
            for r in self.R :
                if r.c == 'B' :
                    r.c = 'W'
                    r.x = r.x + K
                self.y = r.y % ( 2 * K )
        def readline ( self ) :
            if r.c == 'W' or not r.c :
                try :
                    return r.readline ( )
                except IOError :
                    raise
            return r.readline ( )
        def eval ( self ) :
            return int ( self.x )
        def eval ( self ) :
            return float ( self.y )
    def eval ( self ) :
        return eval ( self )
    def _eval ( self ) :
        return eval ( self )
