def _main ( ) :
    import sys
    import random
    import sys
    import os
    import sys
    import collections
    import collections
    import collections
    import scanner
    class Main :
        class Edge :
            def __init__ ( self , dp ) :
                self.to = self.dp [ 0 ]
                self.cost = self.dp [ 1 ]
        def __init__ ( self , dp ) :
            self.dp [ 0 ] = dp [ 0 ]
            self.dp [ 1 ] = dp [ 1 ]
    class Pp ( int ) :
        def __init__ ( self , dp ) :
            self.dp [ 0 ] = dp [ 0 ]
            self.dp [ 1 ] = dp [ 1 ]
    def __init__ ( self , D ) :
        self.dp [ 0 ] = D
        self.dp [ 1 ] = D
    def set_num ( self , dp ) :
        self.dp [ 0 ] = D
        self.dp [ 1 ] = D
    def LR ( self , l , r ) :
        self.dp [ 0 ] = 0
        self.dp [ 1 ] = 0
    lr_list = [ ]
    V = [ ]
    for i in range ( 1 , N + 1 ) :
        if self.dp [ i ] * 2 == self.dp [ i ] * self.dp [ i ] :
            self.dp [ i ] = ( self.dp [ i ] * self.dp [ i ] ) % mod
    for v in range ( 0 , M ) :
        if self.dp [ v ] == 0 :
            self.dp [ v ] = 0
    for v in range ( 0 , M ) :
        for e in self.dp [ v ] :
            if self.dp [ v ] == v :
                self.dp [ v ] = ( self.dp [ v ] + self.dp [ v ] ) % mod
