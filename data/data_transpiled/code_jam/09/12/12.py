def _import ( ) :
    from os import popen
    from os import open
    from os import chmod
    from os import chmod
    from os import rename
    from os import rename
    from os import rename
    from os import rename
    from os import rename
    class B :
        def __init__ ( self , mem ) :
            for i in range ( len ( mem ) ) :
                for j in range ( mem [ i ] ) :
                    self._import ( mem [ j ] , 1 << 60 )
    class C :
        def __init__ ( self , c , p2 ) :
            t = p1 ^ p2
            if t == 0 : return 0
            if t == 3 : return 4
            return 2
        def __init__ ( self , c , p , t ) :
            if t >= mem [ r ] [ c ] [ p ] : return
            self._mem [ r ] [ c ] [ p ] = t
            if r == 0 and c == M : return 0
            if c > 0 :
                t2 = t + self._dist ( p , 2 )
                ct = t2 % ( S [ r ] [ c ] + W [ r ] [ c ] )
                if ct < T [ r ] [ c ] :
                    if ct < T [ r ] [ c ] - W [ r ] [ c ] : return 0
                    else : return 3
            else :
                if ct < T [ r ] [ c ] - W [ r ] [ c ] : return 0
                else : return 3
    if c < M :
        t2 = t + self._dist ( p , 3 )
        ct = t2 % ( S [ r ] [ c ] + W [ r ] [ c ] )
        for i in range ( 0 , N ) :
            sp = open ( 'B-small.in' , 'r' )
            for j in range ( 1 , M ) :
                S [ i ] [ j ] = int ( sp [ 3 * j ] )
                W [ i ] [ j ] = int ( sp [ 3 * j ] )
    if c == 0 : return 0
    if c == 1 : return 1
